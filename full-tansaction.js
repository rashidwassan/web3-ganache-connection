
var Web3 = require("web3")
var TX = require("ethereumjs-tx").Transaction
var web3 = new Web3('HTTP://127.0.0.1:7545')

// these are dummy addressed generated by ganache
var sendingAddress = '0xDBFcC770725c5390aa3e9e3F4dEf70757eB811Fb'
var receivingAddress = '0x8D9c6DdcE731D5EC3531d7Ef4B336E705A4185f1'

web3.eth.getBalance(sendingAddress).then(console.log)
web3.eth.getBalance(receivingAddress).then(console.log)

var rawTransaction = {
    // nonce is a number that is incremented each time a transaction is sent, don't use this same everytime
    nonce: 0,
    to: receivingAddress,
    gasPrice: 20000000,
    gasLimit: 30000,
    // value is the amount of Ether in wei. Wei is extremely small unit of Eth.
    value: 100000,
    data: "0x"
}

var privateKeySender = '688fd6b226ed2c3d3b2c91f515032974e67e7bd05bc7ccdf96f05bc1471ab581'
var privateKeySenderHex = new Buffer.from(privateKeySender, 'hex')
var transaction = new TX(rawTransaction)

// signing the transaction with private key of sender
transaction.sign(privateKeySenderHex)

var serializedTransaction = transaction.serialize();
web3.eth.sendSignedTransaction(serializedTransaction);